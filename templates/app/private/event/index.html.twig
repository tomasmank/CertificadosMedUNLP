
{% extends '@layout/base.html.twig' %}

{% block title %} Eventos {% endblock %}

{% block content %}
<div id="component" class="container">

            <div class="row my-2">
                <div class="col">
                    <h3>Eventos</h3>
                </div>
                <div class="col">
                    <a href={{path("newEvent")}} class="btn btn-secondary" style="background-color: #00889B; float: right;">Nuevo evento</a>
                </div>
            </div>
            <div class="row">
                <div class="accordion accordion-flush" id="accordionFlushExample">
                    <div class="accordion-item border rounded">
                        <h2 class="accordion-header" id="flush-headingOne">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#flush-collapseOne" aria-expanded="false"
                                aria-controls="flush-collapseOne" style="color: black;">
                                Filtar...
                            </button>
                        </h2>
                        <div id="flush-collapseOne" class="accordion-collapse collapse"
                            aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                            <div class="accordion-body">
                                <form action="{{path('fullSearchEvents')}}">
                                    <div class="row">
                                        <div class="col-md-9 mt-2">
                                            <input type="text" class="form-control" id="toSearch" name="toSearch"
                                                placeholder="Escriba un termino...">
                                        </div>
                                        <div class="col-md-3">
                                            <button href="" class="btn btn-secondary mt-2" style="width: 100%;">Aplicar filtro</button>
                                            <button href={{path("events")}} class="btn btn-secondary mt-2" style="width: 100%;">Limpiar filtro</button>    
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="border rounded mt-2 mb-2">
                <table class="table table-striped table-hover">
                    <thead>
                        <th scope="col">ID</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Ubicacion</th>
                        <th scope="col" class="d-none d-md-table-cell">Inicio</th>
                        <th scope="col" class="d-none d-md-table-cell">Fin</th>
                    </thead>
                    <tbody>
                        {% for event in events %}
                            <tr>
                            <th scope="row">{{event.id}}</th>
                            <td>{{event.name}}</td>
                            <td>{{event.city.name}}</td>
                            <td class="d-none d-md-table-cell">
                                {% if event.startDate is not empty %} 
                                    {{event.startDate|date('Y-m-d')}}
                                {% endif %}
                            </td>
                            <td class="d-none d-md-table-cell">
                                {% if event.endDate is not empty %} 
                                    {{event.endDate|date('Y-m-d')}}
                                {% endif %}
                            </td>
                            <td>
                                <!-- <button <a href="" class="btn" name="eventObject" >
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                        class="bi bi-three-dots" viewBox="0 0 16 16">
                                        <path
                                            d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" />
                                    </svg>
                                </button> -->

                                <form action="{{path("viewEvent")}}">
                                    <button href="" class="btn" style="color:black;background-color:yellow" id="eventID" name="eventID" value={{event.id}}>Ver-Modificar</button>
                                </form>
                            </td>
                            <td>
                                <form action="{{path("deleteEvent")}}">
                                    <button href="" class="btn" style="color:white;background-color:red" id="eventID" name="eventID" value={{event.id}}>Eliminar</button>
                                </form>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1" aria-disabled="true"> </a>
                        </li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">...</a></li>
                        <li class="page-item"><a class="page-link" href="#">10</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#">></a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
{% endblock %}